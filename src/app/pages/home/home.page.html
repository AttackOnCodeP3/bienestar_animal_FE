<div class="container py-4">
  @if (authHttpService.isMunicipalityAdmin()) {
  <div class="text-center">
    <app-logo-bienestar-animal [width]="'30%'"></app-logo-bienestar-animal>
  </div>
  } @if (announcementsHttpService.isAnnouncementsEmpty() &&
  authHttpService.isCommunityUser()) {
  <div class="text-center my-5">
    <app-logo-bienestar-animal [width]="'50%'"></app-logo-bienestar-animal>
    <p class="mt-3">No hay anuncios visibles por el momento.</p>
  </div>
  } @if (!announcementsHttpService.isAnnouncementsEmpty() &&
  authHttpService.isCommunityUser()) {
  <div class="row">
    <div class="col-12">
      <swiper-container #swiperContainer class="w-100 d-block" init="false">
        @for (announcement of announcementsHttpService.announcementList(); track
        announcement.id) {
        <swiper-slide>
          <mat-card
            class="overflow-hidden"
            style="max-width: 500px; margin-left: auto; margin-right: auto"
          >
            <div class="ratio ratio-16x9 position-relative">
              @if (announcement.imageUrl) {
              <img
                [src]="announcement.imageUrl"
                [alt]="announcement.title"
                class="w-100 h-100 object-fit-cover rounded-4"
                loading="lazy"
              />
              } @else {
              <div
                class="w-100 h-100 d-flex align-items-center justify-content-center"
              >
                <mat-icon class="fs-1"> image_not_supported </mat-icon>
              </div>
              }
            </div>

            <mat-card-content class="p-3 p-md-4">
              <h2 class="h4 mb-2" title="{{ announcement.title }}">
                {{ announcement.title }}
              </h2>

              <div class="d-flex flex-wrap gap-2 align-items-center mb-3">
                <mat-icon class="me-1"> event </mat-icon>
                <span>
                  {{ announcement.startDate | date:'longDate' }} &nbsp;â€”&nbsp;
                  {{ announcement.endDate | date:'longDate' }}
                </span>
              </div>

              <div class="d-flex gap-2">
                <button
                  mat-flat-button
                  color="primary"
                  (click)="onView(announcement)"
                  aria-label="Ver anuncio {{announcement.title}}"
                >
                  Ver detalles
                </button>
              </div>
            </mat-card-content>
          </mat-card>
        </swiper-slide>
        }
      </swiper-container>
    </div>
  </div>
  }
</div>
